import{L as m}from"./index-RIvZXr4n.js";import{_ as p,c as _,a as o,m as h,i as b,j as n,v as l,s as f,r as v,o as d}from"./index-CEKiAcMy.js";const g={data(){return{drag:!1,coupon:{},isLoading:!0}},methods:{addCoupon(){const e=Math.floor(new Date().getTime()/1e3);this.coupon.due_date=e;const c=this.coupon;console.log(c),this.isLoading=!0,this.$axios.post("https://vue3-course-api.hexschool.io/v2/api/ahmomoz/admin/coupon",{data:c}).then(a=>{this.isLoading=!1,this.$Swal.fire({icon:"success",title:"新增成功"}),this.$router.push("/admin/coupons")}).catch(a=>{this.isLoading=!1,this.$Swal.fire({icon:"error",title:a.response.data.message})})},goBack(){this.$router.go(-1)}},mounted(){this.isLoading=!1},components:{Loading:m}},x={class:"container"},k=o("h1",{class:"fs-3 mt-3"},"新增優惠券",-1),y={class:"mx-auto"},C={class:"card mt-4 shadow-sm"},L=o("div",{class:"card-header"},[o("h5",{class:"my-1"},"基本資訊")],-1),V={class:"card-body"},w={class:"mb-3"},B=o("label",{for:"title",class:"form-label"},"*優惠券名稱",-1),T={class:"row"},U={class:"mb-3 col-md-6"},A=o("label",{for:"code",class:"form-label"},"*折扣碼",-1),M={class:"mb-3 col-md-6"},S=o("label",{for:"origin_price",class:"form-label"},"*折扣數",-1),D={class:"mb-3"},N=o("label",{for:"content",class:"form-label"},"備註(選填)",-1),P={class:"mb-3"},j={class:"form-check"},z=o("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),E={class:"text-end mt-3 mb-5"};function H(r,e,c,a,t,i){const u=v("loading");return d(),_("div",x,[k,o("div",y,[t.isLoading?(d(),h(u,{key:0,active:t.isLoading,"can-cancel":!1},null,8,["active"])):b("",!0),o("div",C,[L,o("div",V,[o("div",w,[B,n(o("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入優惠券名稱","onUpdate:modelValue":e[0]||(e[0]=s=>t.coupon.title=s)},null,512),[[l,t.coupon.title]])]),o("div",T,[o("div",U,[A,n(o("input",{id:"code",type:"text",class:"form-control",placeholder:"請輸入折扣碼(例如:HAPPY800)","onUpdate:modelValue":e[1]||(e[1]=s=>t.coupon.code=s)},null,512),[[l,t.coupon.code]])]),o("div",M,[S,n(o("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入數字(例如:80%請填80)","onUpdate:modelValue":e[2]||(e[2]=s=>t.coupon.percent=s)},null,512),[[l,t.coupon.percent,void 0,{number:!0}]])])]),o("div",D,[N,n(o("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入備註","onUpdate:modelValue":e[3]||(e[3]=s=>t.coupon.content=s)},`
              `,512),[[l,t.coupon.content]])]),o("div",P,[o("div",j,[n(o("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":e[4]||(e[4]=s=>t.coupon.is_enabled=s)},null,512),[[f,t.coupon.is_enabled]]),z])])])])]),o("div",E,[o("button",{type:"button",class:"btn btn-outline-secondary mx-2",onClick:e[5]||(e[5]=(...s)=>i.goBack&&i.goBack(...s))}," 取消 "),o("button",{type:"button",class:"btn btn-primary",onClick:e[6]||(e[6]=(...s)=>i.addCoupon&&i.addCoupon(...s))}," 新增 ")])])}const q=p(g,[["render",H]]);export{q as default};
