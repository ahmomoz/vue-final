import{_ as u,o as m,c,b as e,k as l,v as a,l as d}from"./index-8ybFzMyS.js";const p={data(){return{user:{username:"",password:""}}},methods:{login(){this.user.username&&this.user.password?this.$axios.post("https://vue3-course-api.hexschool.io/v2/admin/signin",this.user).then(n=>{const{token:s,expired:i}=n.data;document.cookie=`hexToken = ${s}; expires=${new Date(i)};`,this.$Swal.fire("登入成功"),this.$router.push("/dashboard/home")}).catch(()=>{this.$Swal.fire("請檢查帳號密碼是否有誤")}):this.$Swal.fire("請填入正確資料")},goPrePage(){this.$router.push("/")}}},f={class:"container-fluid"},h={class:"row justify-content-center"},g={class:"col-lg-4 mt-5"},w=e("h1",{class:"h3 mb-3 font-weight-normal"}," 請先登入 ",-1),_={id:"form",class:"form-signin"},b={class:"form-floating mb-3"},v=e("label",{for:"username"},"Email address",-1),x={class:"form-floating"},k=e("label",{for:"password"},"Password",-1),y={class:"d-flex"};function P(n,s,i,V,r,t){return m(),c("div",f,[e("div",h,[e("div",g,[w,e("form",_,[e("div",b,[l(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.user.username=o),onKeyup:s[1]||(s[1]=d((...o)=>t.login&&t.login(...o),["enter"])),type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,544),[[a,r.user.username]]),v]),e("div",x,[l(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>r.user.password=o),onKeyup:s[3]||(s[3]=d((...o)=>t.login&&t.login(...o),["enter"])),type:"password",class:"form-control",id:"password",placeholder:"Password",required:""},null,544),[[a,r.user.password]]),k]),e("div",y,[e("button",{class:"btn btn-lg btn-dark w-100 mt-3",type:"button",onClick:s[4]||(s[4]=(...o)=>t.goPrePage&&t.goPrePage(...o))}," 返回首頁 "),e("button",{class:"btn btn-lg btn-primary w-100 mt-3 ms-3",type:"button",onClick:s[5]||(s[5]=(...o)=>t.login&&t.login(...o))}," 登入 ")])])])])])}const K=u(p,[["render",P]]);export{K as default};
