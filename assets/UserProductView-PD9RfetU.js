import{_ as J,m as R,a as E,r as A,o as x,c as O,g as j,w as _,h as X,b as s,d as S,t as n,k as Y,v as K,s as U,F as D,e as G,f as L,i as z,p as W,j as Z}from"./index-OK89IDBn.js";import{g as ee,i as te,e as se,n as F,b as Q,E as ie,N as oe,P as ae,S as re,a as le,p as M}from"./effect-fade-tN54G5H0.js";import{c as q}from"./cartStore-p2vH-bUE.js";import{L as ne}from"./index-T6W-CKt5.js";import{_ as de}from"./loading-img2-JPOuMyya.js";function ce(i){let{swiper:e,extendParams:T,on:b}=i;T({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let f=!1,g=!1;e.thumbs={swiper:null};function P(){const o=e.thumbs.swiper;if(!o||o.destroyed)return;const t=o.clickedIndex,c=o.clickedSlide;if(c&&c.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let u;o.params.loop?u=parseInt(o.clickedSlide.getAttribute("data-swiper-slide-index"),10):u=t,e.params.loop?e.slideToLoop(u):e.slideTo(u)}function w(){const{thumbs:o}=e.params;if(f)return!1;f=!0;const t=e.constructor;if(o.swiper instanceof t)e.thumbs.swiper=o.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(te(o.swiper)){const c=Object.assign({},o.swiper);Object.assign(c,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(c),g=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",P),!0}function d(o){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const c=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let u=1;const l=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(u=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(u=1),u=Math.floor(u),t.slides.forEach(p=>p.classList.remove(l)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let p=0;p<u;p+=1)se(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+p}"]`).forEach(r=>{r.classList.add(l)});else for(let p=0;p<u;p+=1)t.slides[e.realIndex+p]&&t.slides[e.realIndex+p].classList.add(l);const m=e.params.thumbs.autoScrollOffset,k=m&&!t.params.loop;if(e.realIndex!==t.realIndex||k){const p=t.activeIndex;let r,I;if(t.params.loop){const a=t.slides.filter(C=>C.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];r=t.slides.indexOf(a),I=e.activeIndex>e.previousIndex?"next":"prev"}else r=e.realIndex,I=r>e.previousIndex?"next":"prev";k&&(r+=I==="next"?m:-1*m),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(r)<0&&(t.params.centeredSlides?r>p?r=r-Math.floor(c/2)+1:r=r+Math.floor(c/2)-1:r>p&&t.params.slidesPerGroup,t.slideTo(r,o?0:void 0))}}b("beforeInit",()=>{const{thumbs:o}=e.params;if(!(!o||!o.swiper))if(typeof o.swiper=="string"||o.swiper instanceof HTMLElement){const t=ee(),c=()=>{const l=typeof o.swiper=="string"?t.querySelector(o.swiper):o.swiper;if(l&&l.swiper)o.swiper=l.swiper,w(),d(!0);else if(l){const m=k=>{o.swiper=k.detail[0],l.removeEventListener("init",m),w(),d(!0),o.swiper.update(),e.update()};l.addEventListener("init",m)}return l},u=()=>{if(e.destroyed)return;c()||requestAnimationFrame(u)};requestAnimationFrame(u)}else w(),d(!0)}),b("slideChange update resize observerUpdate",()=>{d()}),b("setTransition",(o,t)=>{const c=e.thumbs.swiper;!c||c.destroyed||c.setTransition(t)}),b("beforeDestroy",()=>{const o=e.thumbs.swiper;!o||o.destroyed||g&&o.destroy()}),Object.assign(e.thumbs,{init:w,update:d})}function ue(i){let{swiper:e,extendParams:T,emit:b,once:f}=i;T({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function g(){if(e.params.cssMode)return;const d=e.getTranslate();e.setTranslate(d),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function P(){if(e.params.cssMode)return;const{touchEventsData:d,touches:o}=e;d.velocities.length===0&&d.velocities.push({position:o[e.isHorizontal()?"startX":"startY"],time:d.touchStartTime}),d.velocities.push({position:o[e.isHorizontal()?"currentX":"currentY"],time:F()})}function w(d){let{currentPos:o}=d;if(e.params.cssMode)return;const{params:t,wrapperEl:c,rtlTranslate:u,snapGrid:l,touchEventsData:m}=e,p=F()-m.touchStartTime;if(o<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(o>-e.maxTranslate()){e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(m.velocities.length>1){const h=m.velocities.pop(),v=m.velocities.pop(),H=h.position-v.position,$=h.time-v.time;e.velocity=H/$,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),($>150||F()-h.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,m.velocities.length=0;let r=1e3*t.freeMode.momentumRatio;const I=e.velocity*r;let a=e.translate+I;u&&(a=-a);let C=!1,B;const V=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let N;if(a<e.maxTranslate())t.freeMode.momentumBounce?(a+e.maxTranslate()<-V&&(a=e.maxTranslate()-V),B=e.maxTranslate(),C=!0,m.allowMomentumBounce=!0):a=e.maxTranslate(),t.loop&&t.centeredSlides&&(N=!0);else if(a>e.minTranslate())t.freeMode.momentumBounce?(a-e.minTranslate()>V&&(a=e.minTranslate()+V),B=e.minTranslate(),C=!0,m.allowMomentumBounce=!0):a=e.minTranslate(),t.loop&&t.centeredSlides&&(N=!0);else if(t.freeMode.sticky){let h;for(let v=0;v<l.length;v+=1)if(l[v]>-a){h=v;break}Math.abs(l[h]-a)<Math.abs(l[h-1]-a)||e.swipeDirection==="next"?a=l[h]:a=l[h-1],a=-a}if(N&&f("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(u?r=Math.abs((-a-e.translate)/e.velocity):r=Math.abs((a-e.translate)/e.velocity),t.freeMode.sticky){const h=Math.abs((u?-a:a)-e.translate),v=e.slidesSizesGrid[e.activeIndex];h<v?r=t.speed:h<2*v?r=t.speed*1.5:r=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&C?(e.updateProgress(B),e.setTransition(r),e.setTranslate(a),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Q(c,()=>{!e||e.destroyed||!m.allowMomentumBounce||(b("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(B),Q(c,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(b("_freeModeNoMomentumRelease"),e.updateProgress(a),e.setTransition(r),e.setTranslate(a),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Q(c,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(a),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&b("_freeModeNoMomentumRelease");(!t.freeMode.momentum||p>=t.longSwipesMs)&&(b("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:g,onTouchMove:P,onTouchEnd:w}})}const me={data(){return{prodctQty:1,dataLoaded:!1,thumbsSwiper:null,modules:[ie,ue,oe,ce,ae]}},computed:{...R(M,["products"]),...R(M,["product"]),...R(M,["isLoading"]),items(){return["Slide 1","Slide 2","Slide 3"]},randomProducts(){if(!this.dataLoaded)return[];const i=JSON.parse(JSON.stringify(this.products));for(let e=i.length-1;e>0;e--){const T=Math.floor(Math.random()*(e+1));[i[e],i[T]]=[i[T],i[e]]}return i.slice(0,5)}},methods:{...E(q,["addToCart"]),...E(q,["updateQty"]),...E(M,["getAllProductsList"]),...E(M,["getProductList"]),...E(M,["formatPrice"]),setThumbsSwiper(i){this.thumbsSwiper=i},async toOrder(i,e){await this.addToCart(i,e),this.$router.push("/cart")}},components:{Swiper:re,SwiperSlide:le,Loading:ne},watch:{$route(){if(this.$route.params.id!=null){window.scrollTo(0,0);const{id:i}=this.$route.params;this.getAllProductsList(),this.getProductList(i),this.dataLoaded=!0}}},mounted(){const{id:i}=this.$route.params;this.getAllProductsList(),this.getProductList(i),this.dataLoaded=!0}},y=i=>(W("data-v-1ee797d5"),i=i(),Z(),i),pe=y(()=>s("img",{style:{width:"200px"},src:de,alt:"to-top-btn"},null,-1)),fe={class:"container-fluid pt-6 pb-5 py-xl-6 px-3 px-xl-5 px-xxl-8"},he={class:"mb-3 mb-xl-4","aria-label":"breadcrumb"},be={class:"breadcrumb"},we={class:"breadcrumb-item"},ve={class:"breadcrumb-item active","aria-current":"page"},_e={class:"breadcrumb-item active","aria-current":"page"},ye={class:"row mt-3","data-aos":"fade-up"},ge={class:"col-xl-12"},xe={class:"mb-2"},Te={class:"d-flex justify-content-between my-3 my-xl-4"},Se={class:"fs-lg-5 bg-primary text-light rounded rounded-pill px-2 py-2 me-3"},Me=y(()=>s("i",{class:"fs-lg-4 bi bi-geo-alt"},null,-1)),Pe={class:"fs-lg-4"},ke={class:"d-flex align-items-end"},Ie={class:"d-none d-lg-block"},Ce={class:"mb-3"},Ee={class:"swiper-img-container"},Le=["src"],Be={class:"swiper-img-container"},Ve=["src"],Ae={class:"row flex-column-reverse flex-xl-row","data-aos":"fade-up"},Oe={class:"col-12 col-xl-8 mt-xl-3"},je=G('<div class="fs-5 d-xl-flex ps-1 py-3 mb-xl-3" data-v-1ee797d5><div class="mx-xl-3 me-xl-5" data-v-1ee797d5><i class="bi bi-coin" data-v-1ee797d5></i> 時限內可免費取消 </div><div class="mt-2 mt-sm-0" data-v-1ee797d5><i class="bi bi-qr-code-scan" data-v-1ee797d5></i> 票券類商品請現場出示QRcode </div></div><hr data-v-1ee797d5>',2),De={class:"py-3"},Ne={class:"fs-5 white-space-pre-line my-auto"},Re=y(()=>s("hr",null,null,-1)),ze={class:"my-3"},Fe=y(()=>s("div",{class:"d-flex my-4"},[s("i",{class:"fs-4 text-primary me-2 bi bi-stars"}),s("h2",{class:"fs-4 my-auto fw-bolder"},"商品介紹")],-1)),Qe={class:"fs-5 lh-lg white-space-pre-line"},$e={class:"my-3"},Ue=y(()=>s("div",{class:"d-flex my-5"},[s("i",{class:"fs-4 text-primary me-2 bi bi-stars"}),s("h2",{class:"fs-4 my-auto fw-bolder"},"使用地點")],-1)),qe={style:{position:"relative","padding-bottom":"56.25%",height:"0"}},Ge=["src"],He=G('<hr data-v-1ee797d5><div class="bg-light mt-4 px-3 px-xl-5 py-4 rounded-5" data-v-1ee797d5><div class="d-flex my-xl-4" data-v-1ee797d5><i class="fs-5 text-gray me-2 bi bi-pin-fill" data-v-1ee797d5></i><h2 class="fs-5 my-auto" data-v-1ee797d5>注意事項</h2></div><ul class="fs-5 lh-lg white-space-pre-line" data-v-1ee797d5> ‧若購買商品為票券時 <li data-v-1ee797d5>請於進入園區時，使用入口處的自動驗票閘門掃描您的QR code，以完成入園手續。</li><li data-v-1ee797d5> 已購買本電子票券的遊客，請務必攜帶智慧型手機，並出示您的二維碼進行掃描， 以確保順利進入園區。請不要印製電子票券。 </li><li data-v-1ee797d5>如需在同一天內多次進出園區，請至出口處取得再入園手章。</li><li data-v-1ee797d5>請留意，園區內的所有設施與表演活動可能因天候等因素而有所更改或暫停營運，故無法提前通知。</li><li data-v-1ee797d5>此票券僅適用於園區的一般營業日，不適用於特別營業時間。</li><li data-v-1ee797d5>旅客必須在電子券所指定的日期前往指定的園區參觀，無法自行更改入園日期或園區。</li><li data-v-1ee797d5> 若您在訂購後在票券有效期內需要取消訂單或變更人數、票種、園區或入園日期等資訊， 請透過電話或電子郵件聯繫客服人員。 </li></ul></div>',2),Je={class:"col-12 col-xl-4 my-3 mt-xl-3"},Xe={class:"card position-sticky shadow-sm p-5",style:{top:"5rem"}},Ye={class:"mb-3 text-end"},Ke={class:"fs-3 d-flex flex-nowrap justify-content-end"},We={class:"input-group mb-3 border mt-3"},Ze={class:"d-flex flex-column flex-xxl-row justify-content-xxl-end mt-xl-3"},et={class:"row px-3 mt-5","data-aos":"fade-up"},tt=y(()=>s("div",{class:"d-flex my-4"},[s("i",{class:"fs-4 text-primary me-2 bi bi-stars"}),s("h2",{class:"fs-4 my-auto fw-bolder"},"其他推薦商品")],-1)),st={class:"card h-100 mb-4 border-0 shadow-sm product-card-hover"},it={style:{position:"relative"}},ot={class:"fs-5 text-dark bg-white ps-2 opacity-75",style:{position:"absolute",top:"15px","z-index":"2"}},at=y(()=>s("i",{class:"bi bi-geo-alt-fill"},null,-1)),rt=["src"],lt={class:"card-body"},nt={class:"fs-5 text-primary"},dt=y(()=>s("i",{class:"bi bi-play-fill"},null,-1)),ct={class:"card-text text-dark my-2"},ut={class:"fs-5 text-primary fw-bolder"},mt={style:{color:"rgb(196, 196, 196)"}},pt=y(()=>s("br",null,null,-1));function ft(i,e,T,b,f,g){const P=A("loading"),w=A("RouterLink"),d=A("swiper-slide"),o=A("swiper");return x(),O(D,null,[i.isLoading?(x(),j(P,{key:0,active:i.isLoading,"can-cancel":!1},{default:_(()=>[pe]),_:1},8,["active"])):X("",!0),s("main",fe,[s("nav",he,[s("ol",be,[s("li",we,[S(w,{class:"text-decoration-none",to:"/",exact:""},{default:_(()=>[L("首頁")]),_:1})]),s("li",ve,[S(w,{class:"text-decoration-none",to:"/products",exact:""},{default:_(()=>[L("所有商品")]),_:1})]),s("li",_e,n(i.product.title),1)])]),s("section",ye,[s("div",ge,[s("div",xe,[s("h1",null,n(i.product.nation)+"｜"+n(i.product.title),1),s("div",Te,[s("div",null,[s("span",Se,n(i.product.category),1),Me,s("span",Pe,n(i.product.nation)+" "+n(i.product.area),1)]),s("div",ke,[s("span",Ie," 商品ID "+n(i.product.id),1)])])]),s("div",Ce,[S(o,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},effect:"fade",spaceBetween:10,navigation:!0,thumbs:{swiper:this.thumbsSwiper},modules:f.modules,class:"mySwiper2"},{default:_(()=>[(x(!0),O(D,null,z(i.product.imagesUrl.slice(0,5),t=>(x(),j(d,{class:"product-first-swiper w-100",key:t},{default:_(()=>[s("div",Ee,[s("img",{style:{width:"100%"},class:"object-fit",src:t,alt:"product-img"},null,8,Le)])]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),S(o,{onSwiper:g.setThumbsSwiper,spaceBetween:10,slidesPerView:5,slidesPerGroup:5,freeMode:!0,watchSlidesProgress:!0,modules:f.modules,class:"mySwiper mt-2"},{default:_(()=>[(x(!0),O(D,null,z(i.product.imagesUrl.slice(0,5),t=>(x(),j(d,{class:"product-second-swiper",key:t},{default:_(()=>[s("div",Be,[s("img",{style:{width:"100%"},class:"object-fit",src:t,alt:"product-img"},null,8,Ve)])]),_:2},1024))),128))]),_:1},8,["onSwiper","modules"])])])]),s("section",Ae,[s("div",Oe,[je,s("div",De,[s("p",Ne,n(i.product.content),1)]),Re,s("div",ze,[Fe,s("p",Qe,n(i.product.description),1)]),s("div",$e,[Ue,s("div",qe,[s("iframe",{src:i.product.addressEmbedCode,width:"800",height:"400",style:{border:"0",position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,Ge)])]),He]),s("div",Je,[s("div",Xe,[s("div",Ye,[s("span",null,[s("del",null," NT$"+n(i.formatPrice(i.product.origin_price))+"元/"+n(i.product.unit),1)]),s("span",Ke," NT$"+n(i.formatPrice(i.product.price))+"元/"+n(i.product.unit),1)]),s("div",We,[Y(s("input",{class:"form-control border-0 text-center my-auto shadow-none",type:"number",min:1,value:"1",oninput:"value=value.replace(/[^\\d]/g,'')","onUpdate:modelValue":e[0]||(e[0]=t=>f.prodctQty=t)},null,512),[[K,f.prodctQty]])]),s("div",Ze,[s("a",{href:"#",class:"btn btn-primary btn-block text-white rounded-0 py-2 ms-xxl-2",onClick:e[1]||(e[1]=U(t=>i.addToCart(i.product,f.prodctQty),["prevent"]))}," 加入購物車 "),s("a",{href:"#",class:"btn btn-primary btn-block text-white rounded-0 py-2 mt-3 mt-xxl-0 ms-xxl-2",onClick:e[2]||(e[2]=U(t=>g.toOrder(i.product,f.prodctQty),["prevent"]))}," 立即訂購 ")])])])]),s("section",et,[tt,S(o,{pagination:{clickable:!0},breakpoints:{640:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:40},1024:{slidesPerView:3,spaceBetween:50}},modules:f.modules,class:"mySwiper"},{default:_(()=>[(x(!0),O(D,null,z(g.randomProducts,t=>(x(),j(d,{class:"py-5",key:t.id},{default:_(()=>[S(w,{class:"text-decoration-none",to:`/product/${t.id}`},{default:_(()=>[s("div",st,[s("div",it,[s("div",null,[s("span",ot,[at,L(" "+n(t.nation)+n(t.area),1)]),s("img",{src:t.imagesUrl[0],style:{height:"200px","z-index":"1"},class:"card-img-top object-fit-cover",alt:"product-img"},null,8,rt)])]),s("div",lt,[s("span",nt,[dt,L(" "+n(t.category),1)]),s("h4",ct,n(t.title),1),s("p",null,n(t.feature),1),s("p",ut,[s("del",mt," NT$"+n(i.formatPrice(t.origin_price)),1),pt,L(" NT$"+n(i.formatPrice(t.price)),1)])])])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["modules"])])])],64)}const yt=J(me,[["render",ft],["__scopeId","data-v-1ee797d5"]]);export{yt as default};
