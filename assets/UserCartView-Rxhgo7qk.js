import{_ as v,m as d,a as l,r as h,o as n,c as a,g as x,w as p,h as b,b as t,F as f,i as k,k as w,v as C,t as r,d as y,f as c}from"./index-N2OVN5xF.js";import{c as o}from"./cartStore-3xLUildS.js";import{L}from"./index-LdDh6Nbz.js";import{_ as B}from"./loading-img2-JPOuMyya.js";const V="/vue-final/assets/step1-Aummvrye.png",$={data(){return{coupon:""}},computed:{...d(o,["isLoading"]),...d(o,["cart"]),...d(o,["total"]),...d(o,["cartList"]),...d(o,["final_total"])},methods:{...l(o,["getCartList"]),...l(o,["updateQty"]),...l(o,["deleteProduct"]),...l(o,["deleteCart"]),...l(o,["useCoupon"])},mounted(){this.getCartList()},components:{Loading:L}},N=t("img",{style:{width:"200px"},src:B,alt:"to-top-btn"},null,-1),F={class:"container-fluid cart-bg pt-lg-6 pb-5 py-xl-6 px-3 px-xl-10"},Q={class:"row mt-5"},j=t("div",{class:"text-center"},[t("img",{class:"img-fluid",src:V,alt:"step-img"})],-1),R={key:0,class:"card","data-aos":"fade-up"},S={class:"card-header bg-white d-flex justify-content-between py-4 py-xl-5"},T=t("h2",{class:"my-auto"},[t("i",{class:"bi bi-cart4 me-2"}),c(" 商品購物車 ")],-1),U={key:0,class:"card-body p-0 my-5"},A={class:"table fs-6"},D=t("thead",null,[t("tr",null,[t("th",null,"商品資訊"),t("th",null,"單價"),t("th",null,"數量"),t("th",{class:"text-end"},"小計"),t("th")])],-1),P={class:"d-md-flex"},q=["src"],E={class:"ms-md-2"},M={style:{width:"200px"}},z={class:"input-group input-group-sm"},G=["value","onBlur"],H={class:"input-group-text",id:"basic-addon2"},I={class:"text-end"},J=["onClick"],K=t("i",{class:"bi bi-trash3"},null,-1),O=[K],W={class:"input-group ms-auto",style:{width:"200px"}},X={class:"input-group-append"},Y=t("i",{class:"bi bi-send"},null,-1),Z=[Y],tt={class:"card-footer d-flex justify-content-end bg-white py-4"},st={class:"text-end"},et=t("p",{class:"m-0"},"總計金額",-1),ot={class:"fs-2 text-primary fw-bolder m-0"},nt={key:1,class:"py-5"},it=t("h2",{class:"text-center"},[c("目前購物車無任何商品Q_Q"),t("br"),c("趕快來去選購吧")],-1),at=[it],dt={class:"d-flex justify-content-end my-4"},lt=t("i",{class:"bi bi-chevron-double-right"},null,-1);function rt(e,i,ct,ut,u,pt){const g=h("loading"),_=h("RouterLink");return n(),a(f,null,[e.isLoading?(n(),x(g,{key:0,active:e.isLoading,"can-cancel":!1},{default:p(()=>[N]),_:1},8,["active"])):b("",!0),t("main",F,[t("div",Q,[j,e.cartList.length>0?(n(),a("div",R,[t("div",S,[T,t("button",{class:"btn btn-outline-danger fs-5",type:"button",onClick:i[0]||(i[0]=(...s)=>e.deleteCart&&e.deleteCart(...s))}," 清空購物車 ")]),e.cartList.length>0?(n(),a("div",U,[t("table",A,[D,t("tbody",null,[(n(!0),a(f,null,k(e.cartList,s=>(n(),a("tr",{key:s.id},[t("td",P,[t("img",{src:s.product.imagesUrl[0],alt:"product-img",style:{width:"80px"}},null,8,q),t("p",E,r(s.product.title),1)]),t("td",null,"$"+r(s.product.price),1),t("td",M,[t("div",z,[t("input",{min:1,type:"number",class:"form-control",value:s.qty,onBlur:m=>e.updateQty(s,m)},null,40,G),t("span",H,r(s.product.unit),1)])]),t("td",I,"$"+r(s.final_total.toFixed(0)),1),t("td",null,[t("button",{class:"btn btn-sm btn-outline-danger text-end",type:"button",onClick:m=>e.deleteProduct(s)},O,8,J)])]))),128))])]),t("div",W,[w(t("input",{type:"text",class:"form-control rounded-0 border-bottom border-top-0 border-start-0 border-end-0 shadow-none",placeholder:"輸入折扣碼","aria-label":"Recipient's username","aria-describedby":"button-addon2","onUpdate:modelValue":i[1]||(i[1]=s=>u.coupon=s)},null,512),[[C,u.coupon]]),t("div",X,[t("button",{class:"btn btn-outline-dark border-bottom border-top-0 border-start-0 border-end-0 rounded-0",type:"button",id:"button-addon2",onClick:i[2]||(i[2]=s=>e.useCoupon(u.coupon))},Z)])])])):b("",!0),t("div",tt,[t("div",st,[et,t("p",ot," NT$ "+r(e.final_total.toFixed(0)),1)]),y(_,{to:"/booking",class:"btn btn-primary fs-5 text-white ms-3 p-3 shadow-sm"},{default:p(()=>[c(" 前往結帳 ")]),_:1})])])):(n(),a("div",nt,at)),t("div",dt,[y(_,{to:"/products",class:"fs-5 text-decoration-none link-hover"},{default:p(()=>[c(" 繼續購物 "),lt]),_:1})])])])],64)}const ft=v($,[["render",rt]]);export{ft as default};
