import{L as p}from"./index-P6sKpQ1M.js";import{_ as m,r as _,o as d,c as h,a as o,C as f,x as b,y as n,z as l,G as v}from"./index-UcymovWQ.js";var g={VITE_API_URL:"https://vue3-course-api.hexschool.io/v2",VITE_APIPATH:"ahmomoz",BASE_URL:"/vue-final/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_URL:x,VITE_APIPATH:k}=g,y={data(){return{drag:!1,coupon:{},isLoading:!0}},methods:{addCoupon(){const e=Math.floor(new Date().getTime()/1e3);this.coupon.due_date=e,this.coupon.is_enabled=this.coupon.is_enabled||0;const a=this.coupon;this.isLoading=!0,this.$axios.post(`${x}/api/${k}/admin/coupon`,{data:a}).then(c=>{this.isLoading=!1,this.$Swal.fire({position:"top-end",icon:"success",title:"新增成功",showConfirmButton:!1,timer:700}),this.$router.push("/dashboard/coupons")}).catch(c=>{this.isLoading=!1,this.$Swal.fire({icon:"error",title:c.response.data.message})})},goBack(){this.$router.go(-1)}},mounted(){this.isLoading=!1},components:{Loading:p}},V={class:"container"},L=o("h1",{class:"fs-3 mt-3"},"新增優惠券",-1),C={class:"mx-auto"},T={class:"card mt-4 shadow-sm"},A=o("div",{class:"card-header"},[o("h5",{class:"my-1"},"基本資訊")],-1),B={class:"card-body"},I={class:"mb-3"},P=o("label",{for:"title",class:"form-label"},"*優惠券名稱",-1),w={class:"row"},E={class:"mb-3 col-md-6"},U=o("label",{for:"code",class:"form-label"},"*折扣碼",-1),S={class:"mb-3 col-md-6"},D=o("label",{for:"origin_price",class:"form-label"},"*折扣數",-1),R={class:"mb-3"},M=o("label",{for:"content",class:"form-label"},"備註(選填)",-1),H={class:"mb-3"},z={class:"form-check"},N=o("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),O={class:"text-end mt-3 mb-5"};function G(r,e,a,c,s,i){const u=_("loading");return d(),h("div",V,[L,o("div",C,[s.isLoading?(d(),f(u,{key:0,active:s.isLoading,"can-cancel":!1},null,8,["active"])):b("",!0),o("div",T,[A,o("div",B,[o("div",I,[P,n(o("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入優惠券名稱","onUpdate:modelValue":e[0]||(e[0]=t=>s.coupon.title=t)},null,512),[[l,s.coupon.title]])]),o("div",w,[o("div",E,[U,n(o("input",{id:"code",type:"text",class:"form-control",placeholder:"請輸入折扣碼(例如:HAPPY800)","onUpdate:modelValue":e[1]||(e[1]=t=>s.coupon.code=t)},null,512),[[l,s.coupon.code]])]),o("div",S,[D,n(o("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入數字(例如:80%請填80)","onUpdate:modelValue":e[2]||(e[2]=t=>s.coupon.percent=t)},null,512),[[l,s.coupon.percent,void 0,{number:!0}]])])]),o("div",R,[M,n(o("textarea",{id:"content",type:"text",class:"form-control",placeholder:"請輸入備註","onUpdate:modelValue":e[3]||(e[3]=t=>s.coupon.content=t)},`
              `,512),[[l,s.coupon.content]])]),o("div",H,[o("div",z,[n(o("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":e[4]||(e[4]=t=>s.coupon.is_enabled=t)},null,512),[[v,s.coupon.is_enabled]]),N])])])])]),o("div",O,[o("button",{type:"button",class:"btn btn-outline-secondary mx-2",onClick:e[5]||(e[5]=(...t)=>i.goBack&&i.goBack(...t))}," 取消 "),o("button",{type:"button",class:"btn btn-primary text-light",onClick:e[6]||(e[6]=(...t)=>i.addCoupon&&i.addCoupon(...t))}," 新增 ")])])}const q=m(y,[["render",G]]);export{q as default};
